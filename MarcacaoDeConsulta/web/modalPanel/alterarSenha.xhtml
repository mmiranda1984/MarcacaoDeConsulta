<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.prime.com.tr/ui">
    <body>
        <p:dialog header="Alterar senha" widgetVar="dlgAlterarSenha" height="150" width="400"
                  id="dialogAS" modal="true" resizable="false">
            <h:form prependId="false">
                <p:growl id="growlAlterarSenha" showDetail="false" life="1500" />
                <p:outputPanel id="alterarSenha">
                    
                    <h:panelGrid  columns="2" style="margin-bottom:10px">
                        <h:outputLabel for="txtData" value="Nova Senha :" />
                        <p:password value="#{principalBean.novaSenha}" feedback="false" minLength="1" style="width: 250px" required="true" requiredMessage="A nova senha é obrigatória"/>

                        <h:outputLabel value="Confirmar Nova Senha :" />
                        <p:password value="#{principalBean.novaSenhaConfirmacao}" feedback="false" minLength="1" style="width: 250px" required="true" requiredMessage="A confirmação da nova senha é obrigatória"/>
                    </h:panelGrid>

                    <p:outputPanel style="text-align:center;" layout="block">

                        <p:commandLink id="btnSalvarSenha" update="growlAlterarSenha" oncomplete="validarCamposObrigatoriosAlteracaoSenha(xhr, status, args)" actionListener="#{principalBean.alterarSenha}" ajax="true">
                            <h:graphicImage style="border: none" alt="Clique para alterar a senha" url="/images/Salvar.png"/>
                        </p:commandLink>

                        <p:spacer width="30"/>                        

                        <p:commandLink id="btnCancelarSenha" onclick="dlgAlterarSenha.hide();">
                            <h:graphicImage style="border: none" alt="Clique para cancelar a alteração de senha" url="/images/Cancelar.png"/>
                        </p:commandLink>

                    </p:outputPanel>
                </p:outputPanel>
            </h:form>
        </p:dialog>

        <script type="text/javascript">  
            function validarCamposObrigatoriosAlteracaoSenha(xhr, status, args) {  
                if(!args.validationFailed) {  
                    dlgAlterarSenha.hide();  
                }  
            }  
        </script>  
    </body>
</html>
